# ğŸ¨ ç•…ç†é¢˜åº“ - å‰ç«¯çˆ†æ”¹å¼€å‘æ–‡æ¡£

**æŠ€æœ¯æ ˆ**: Next.js + Tailwind CSS + Framer Motion
**ç›®æ ‡**: ä»æœ´ç´ åˆ°æƒŠè‰³çš„è§†è§‰å‡çº§

---

## ğŸ“‹ ç›®å½•

1. [å®‰è£…ä¸é…ç½®](#1-å®‰è£…ä¸é…ç½®)
2. [è®¾è®¡ç³»ç»Ÿ](#2-è®¾è®¡ç³»ç»Ÿ)
3. [ç»„ä»¶åº“æ¶æ„](#3-ç»„ä»¶åº“æ¶æ„)
4. [Framer Motion åŠ¨ç”»æ–¹æ¡ˆ](#4-framer-motion-åŠ¨ç”»æ–¹æ¡ˆ)
5. [é¡µé¢æ”¹é€ ä¼˜å…ˆçº§](#5-é¡µé¢æ”¹é€ ä¼˜å…ˆçº§)
6. [å®æˆ˜ç¤ºä¾‹](#6-å®æˆ˜ç¤ºä¾‹)
7. [æœ€ä½³å®è·µ](#7-æœ€ä½³å®è·µ)

---

## 1. å®‰è£…ä¸é…ç½®

### 1.1 å®‰è£…ä¾èµ–

```bash
# Tailwind CSS åŠå…¶ä¾èµ–
npm install -D tailwindcss postcss autoprefixer

# Framer Motion
npm install framer-motion

# å›¾æ ‡åº“
npm install lucide-react

# å¯é€‰ï¼šé¢å¤–çš„ UI åº“
npm install @radix-ui/react-dialog @radix-ui/react-dropdown-menu
```

### 1.2 åˆå§‹åŒ– Tailwind CSS

```bash
npx tailwindcss init -p
```

### 1.3 é…ç½® Tailwind

åˆ›å»º `tailwind.config.ts`ï¼š

```typescript
import type { Config } from 'tailwindcss'

const config: Config = {
  content: [
    './pages/**/*.{js,ts,jsx,tsx,mdx}',
    './components/**/*.{js,ts,jsx,tsx,mdx}',
    './app/**/*.{js,ts,jsx,tsx,mdx}',
  ],
  theme: {
    extend: {
      colors: {
        // å“ç‰Œè‰²ç³»
        primary: {
          50: '#fef3f2',
          100: '#fee4e2',
          200: '#fecdd3',
          300: '#fda4af',
          400: '#fb7185',
          500: '#f43f5e', // ä¸»è‰²
          600: '#e11d48',
          700: '#be123c',
          800: '#9f1239',
          900: '#881337',
        },
        // ä¸­æ€§è‰²ç³»
        neutral: {
          50: '#fafafa',
          100: '#f5f5f5',
          200: '#e5e5e5',
          300: '#d4d4d4',
          400: '#a3a3a3',
          500: '#737373',
          600: '#525252',
          700: '#404040',
          800: '#262626',
          900: '#171717',
          950: '#0a0a0a',
        },
        // è¯­ä¹‰è‰²
        success: '#22c55e',
        warning: '#f59e0b',
        error: '#ef4444',
        info: '#3b82f6',
      },
      fontFamily: {
        sans: ['var(--font-geist-sans)', 'system-ui', 'sans-serif'],
        serif: ['var(--font-geist-serif)', 'Georgia', 'serif'],
        mono: ['var(--font-geist-mono)', 'monospace'],
      },
      borderRadius: {
        '4xl': '2rem',
      },
      boxShadow: {
        'soft': '0 2px 15px -3px rgba(0, 0, 0, 0.07), 0 10px 20px -2px rgba(0, 0, 0, 0.04)',
        'medium': '0 4px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)',
        'hard': '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)',
      },
      animation: {
        'fade-in': 'fadeIn 0.5s ease-out',
        'slide-up': 'slideUp 0.4s ease-out',
        'slide-down': 'slideDown 0.3s ease-out',
        'scale-in': 'scaleIn 0.2s ease-out',
        'shimmer': 'shimmer 2s linear infinite',
      },
      keyframes: {
        fadeIn: {
          '0%': { opacity: '0' },
          '100%': { opacity: '1' },
        },
        slideUp: {
          '0%': { transform: 'translateY(20px)', opacity: '0' },
          '100%': { transform: 'translateY(0)', opacity: '1' },
        },
        slideDown: {
          '0%': { transform: 'translateY(-20px)', opacity: '0' },
          '100%': { transform: 'translateY(0)', opacity: '1' },
        },
        scaleIn: {
          '0%': { transform: 'scale(0.95)', opacity: '0' },
          '100%': { transform: 'scale(1)', opacity: '1' },
        },
        shimmer: {
          '0%': { backgroundPosition: '-1000px 0' },
          '100%': { backgroundPosition: '1000px 0' },
        },
      },
    },
  },
  plugins: [],
}

export default config
```

### 1.4 æ›´æ–°å…¨å±€æ ·å¼

æ›¿æ¢ `app/globals.css`ï¼š

```css
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 20 14.3% 4.1%;
    --card: 0 0% 100%;
    --card-foreground: 20 14.3% 4.1%;
    --popover: 0 0% 100%;
    --popover-foreground: 20 14.3% 4.1%;
    --primary: 0 84.2% 60.2%;
    --primary-foreground: 60 9.1% 97.8%;
    --secondary: 60 4.8% 95.9%;
    --secondary-foreground: 24 9.8% 10%;
    --muted: 60 4.8% 95.9%;
    --muted-foreground: 25 5.3% 44.7%;
    --accent: 60 4.8% 95.9%;
    --accent-foreground: 24 9.8% 10%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 60 9.1% 97.8%;
    --border: 20 5.9% 90%;
    --input: 20 5.9% 90%;
    --ring: 20 14.3% 4.1%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 20 14.3% 4.1%;
    --foreground: 60 9.1% 97.8%;
    --card: 20 14.3% 4.1%;
    --card-foreground: 60 9.1% 97.8%;
    --popover: 20 14.3% 4.1%;
    --popover-foreground: 60 9.1% 97.8%;
    --primary: 0 84.2% 60.2%;
    --primary-foreground: 60 9.1% 97.8%;
    --secondary: 12 6.5% 15.1%;
    --secondary-foreground: 60 9.1% 97.8%;
    --muted: 12 6.5% 15.1%;
    --muted-foreground: 24 5.4% 63.9%;
    --accent: 12 6.5% 15.1%;
    --accent-foreground: 60 9.1% 97.8%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 60 9.1% 97.8%;
    --border: 12 6.5% 15.1%;
    --input: 12 6.5% 15.1%;
    --ring: 24 5.7% 82.9%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}
```

---

## 2. è®¾è®¡ç³»ç»Ÿ

### 2.1 é¢œè‰²ç³»ç»Ÿ

#### å“ç‰Œè‰²
```
ä¸»è‰² (Primary): #f43f5e (ç«ç‘°çº¢)
- ç”¨äºä¸»è¦æŒ‰é’®ã€é‡è¦ä¿¡æ¯å¼ºè°ƒ
- æ­é…è‰²ï¼š#fda4af (æµ…è‰²)ã€#be123c (æ·±è‰²)
```

#### ä¸­æ€§è‰²
```
æ–‡å­—ï¼š#171717 (ä¸»)ã€#737373 (æ¬¡)ã€#a3a3a3 (è¾…åŠ©)
èƒŒæ™¯ï¼š#fafafa (æµ…)ã€#ffffff (ç™½)
è¾¹æ¡†ï¼š#e5e5e5 (åˆ†å‰²çº¿)
```

#### è¯­ä¹‰è‰²
```
æˆåŠŸï¼š#22c55e (ç»¿è‰²)
è­¦å‘Šï¼š#f59e0b (æ©™è‰²)
é”™è¯¯ï¼š#ef4444 (çº¢è‰²)
ä¿¡æ¯ï¼š#3b82f6 (è“è‰²)
```

### 2.2 å­—ä½“ç³»ç»Ÿ

```typescript
// å­—ä½“å®¶æ—
font-sans: system-ui (æ— è¡¬çº¿)
font-serif: Georgia (è¡¬çº¿)
font-mono: monospace (ç­‰å®½)

// å­—ä½“å¤§å°å±‚çº§
text-xs: 12px (è¾…åŠ©è¯´æ˜)
text-sm: 14px (æ­£æ–‡)
text-base: 16px (æ ‡å‡†)
text-lg: 18px (å°æ ‡é¢˜)
text-xl: 20px (æ ‡é¢˜)
text-2xl: 24px (å¤§æ ‡é¢˜)
text-3xl: 30px (ç‰¹å¤§æ ‡é¢˜)

// å­—é‡
font-light: 300
font-normal: 400
font-medium: 500
font-semibold: 600
font-bold: 700
```

### 2.3 é—´è·ç³»ç»Ÿ

```typescript
// Tailwind é»˜è®¤é—´è·
0: 0px
1: 4px
2: 8px
3: 12px
4: 16px
5: 20px
6: 24px
8: 32px
10: 40px
12: 48px
16: 64px
20: 80px
24: 96px

// å¸¸ç”¨é—´è·æ¨¡å¼
p-4: å†…è¾¹è· 16px
p-6: å†…è¾¹è· 24px
p-8: å†…è¾¹è· 32px
gap-4: é—´è· 16px
gap-6: é—´è· 24px
```

### 2.4 åœ†è§’ç³»ç»Ÿ

```typescript
rounded: 4px (å°åœ†è§’)
rounded-md: 6px (ä¸­åœ†è§’)
rounded-lg: 8px (å¤§åœ†è§’)
rounded-xl: 12px (è¶…å¤§åœ†è§’)
rounded-2xl: 16px (å¡ç‰‡)
rounded-3xl: 24px (æ¨¡æ€æ¡†)
rounded-full: å®Œå…¨åœ†è§’ (èƒ¶å›ŠæŒ‰é’®)
```

### 2.5 é˜´å½±ç³»ç»Ÿ

```typescript
shadow-sm: è½»å¾®é˜´å½± (hover çŠ¶æ€)
shadow: æ ‡å‡†é˜´å½± (å¡ç‰‡)
shadow-md: ä¸­ç­‰é˜´å½± (æµ®å±‚)
shadow-lg: å¤§é˜´å½± (æ¨¡æ€æ¡†)
shadow-xl: è¶…å¤§é˜´å½± (å¼ºè°ƒ)

// è‡ªå®šä¹‰é˜´å½±
shadow-soft: æŸ”å’Œé˜´å½± (æ¨èç”¨äºå¡ç‰‡)
shadow-medium: ä¸­ç­‰å¼ºåº¦
shadow-hard: å¼ºçƒˆé˜´å½± (æµ®å±‚)
```

---

## 3. ç»„ä»¶åº“æ¶æ„

### 3.1 ç›®å½•ç»“æ„

```
components/
â”œâ”€â”€ ui/                    # åŸºç¡€ UI ç»„ä»¶
â”‚   â”œâ”€â”€ button.tsx
â”‚   â”œâ”€â”€ input.tsx
â”‚   â”œâ”€â”€ card.tsx
â”‚   â”œâ”€â”€ badge.tsx
â”‚   â”œâ”€â”€ dialog.tsx
â”‚   â”œâ”€â”€ dropdown-menu.tsx
â”‚   â””â”€â”€ toast.tsx
â”œâ”€â”€ layout/                # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ header.tsx
â”‚   â”œâ”€â”€ footer.tsx
â”‚   â””â”€â”€ container.tsx
â”œâ”€â”€ features/              # åŠŸèƒ½ç»„ä»¶
â”‚   â”œâ”€â”€ quiz-card.tsx
â”‚   â”œâ”€â”€ question-viewer.tsx
â”‚   â”œâ”€â”€ answer-panel.tsx
â”‚   â””â”€â”€ progress-bar.tsx
â””â”€â”€ animations/            # åŠ¨ç”»ç»„ä»¶
    â”œâ”€â”€ fade-in.tsx
    â”œâ”€â”€ slide-up.tsx
    â””â”€â”€ stagger-children.tsx
```

### 3.2 æ ¸å¿ƒç»„ä»¶ç¤ºä¾‹

#### Button ç»„ä»¶

```typescript
// components/ui/button.tsx
'use client'

import { motion, ButtonHTMLAttributes, forwardRef } from 'framer-motion'
import { cn } from '@/lib/utils'

export interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: 'default' | 'primary' | 'secondary' | 'ghost' | 'outline'
  size?: 'sm' | 'md' | 'lg'
  isLoading?: boolean
}

const Button = forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant = 'default', size = 'md', isLoading, children, ...props }, ref) => {
    const variants = {
      default: 'bg-neutral-900 text-white hover:bg-neutral-800',
      primary: 'bg-primary-500 text-white hover:bg-primary-600',
      secondary: 'bg-neutral-100 text-neutral-900 hover:bg-neutral-200',
      ghost: 'bg-transparent hover:bg-neutral-100',
      outline: 'border-2 border-neutral-900 text-neutral-900 hover:bg-neutral-900 hover:text-white',
    }

    const sizes = {
      sm: 'h-9 px-4 text-sm',
      md: 'h-11 px-6 text-base',
      lg: 'h-13 px-8 text-lg',
    }

    return (
      <motion.button
        ref={ref}
        className={cn(
          'inline-flex items-center justify-center rounded-xl font-medium transition-colors',
          'focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500',
          'disabled:pointer-events-none disabled:opacity-50',
          variants[variant],
          sizes[size],
          className
        )}
        whileHover={{ scale: 1.02 }}
        whileTap={{ scale: 0.98 }}
        disabled={isLoading}
        {...props}
      >
        {isLoading ? (
          <motion.div
            className="h-5 w-5 border-2 border-current border-t-transparent rounded-full"
            animate={{ rotate: 360 }}
            transition={{ duration: 1, repeat: Infinity, ease: 'linear' }}
          />
        ) : (
          children
        )}
      </motion.button>
    )
  }
)

Button.displayName = 'Button'

export { Button }
```

#### Card ç»„ä»¶

```typescript
// components/ui/card.tsx
'use client'

import { motion, HTMLAttributes } from 'framer-motion'
import { cn } from '@/lib/utils'

interface CardProps extends HTMLAttributes<HTMLDivElement> {
  hover?: boolean
}

export function Card({ className, hover = true, children, ...props }: CardProps) {
  return (
    <motion.div
      className={cn(
        'rounded-2xl bg-white p-6 shadow-soft',
        'border border-neutral-200',
        hover && 'hover:shadow-medium hover:-translate-y-1',
        'transition-all duration-300',
        className
      )}
      initial={{ opacity: 0, y: 20 }}
      animate={{ opacity: 1, y: 0 }}
      whileHover={hover ? { y: -4 } : undefined}
      {...props}
    >
      {children}
    </motion.div>
  )
}
```

#### Input ç»„ä»¶

```typescript
// components/ui/input.tsx
'use client'

import { motion, InputHTMLAttributes, forwardRef } from 'framer-motion'
import { cn } from '@/lib/utils'

export interface InputProps extends InputHTMLAttributes<HTMLInputElement> {
  error?: boolean
}

const Input = forwardRef<HTMLInputElement, InputProps>(
  ({ className, error, ...props }, ref) => {
    return (
      <motion.input
        ref={ref}
        className={cn(
          'flex h-11 w-full rounded-xl border-2 bg-white px-4 py-2 text-sm',
          'placeholder:text-neutral-400',
          'focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500',
          'disabled:cursor-not-allowed disabled:opacity-50',
          'transition-all duration-200',
          error ? 'border-error' : 'border-neutral-200 focus-visible:border-primary-500',
          className
        )}
        whileFocus={{ scale: 1.01 }}
        {...props}
      />
    )
  }
)

Input.displayName = 'Input'

export { Input }
```

#### Badge ç»„ä»¶

```typescript
// components/ui/badge.tsx
'use client'

import { motion, HTMLAttributes } from 'framer-motion'
import { cn } from '@/lib/utils'

interface BadgeProps extends HTMLAttributes<HTMLDivElement> {
  variant?: 'default' | 'success' | 'warning' | 'error'
}

export function Badge({ className, variant = 'default', children, ...props }: BadgeProps) {
  const variants = {
    default: 'bg-neutral-100 text-neutral-900',
    success: 'bg-green-100 text-green-700',
    warning: 'bg-orange-100 text-orange-700',
    error: 'bg-red-100 text-red-700',
  }

  return (
    <motion.div
      initial={{ scale: 0.8, opacity: 0 }}
      animate={{ scale: 1, opacity: 1 }}
      className={cn(
        'inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold',
        variants[variant],
        className
      )}
      {...props}
    >
      {children}
    </motion.div>
  )
}
```

### 3.3 å·¥å…·å‡½æ•°

åˆ›å»º `lib/utils.ts`ï¼š

```typescript
import { type ClassValue, clsx } from 'clsx'
import { twMerge } from 'tailwind-merge'

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}

export function formatDate(date: string | Date): string {
  return new Intl.DateTimeFormat('zh-CN', {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
  }).format(new Date(date))
}

export function formatRelativeTime(date: string | Date): string {
  const now = new Date()
  const target = new Date(date)
  const diffInSeconds = Math.floor((now.getTime() - target.getTime()) / 1000)

  if (diffInSeconds < 60) return 'åˆšåˆš'
  if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)}åˆ†é’Ÿå‰`
  if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)}å°æ—¶å‰`
  if (diffInSeconds < 2592000) return `${Math.floor(diffInSeconds / 86400)}å¤©å‰`
  return formatDate(date)
}
```

---

## 4. Framer Motion åŠ¨ç”»æ–¹æ¡ˆ

### 4.1 é¡µé¢è¿‡æ¸¡åŠ¨ç”»

åˆ›å»º `components/animations/page-transition.tsx`ï¼š

```typescript
'use client'

import { motion } from 'framer-motion'

const variants = {
  hidden: { opacity: 0, y: 20 },
  enter: { opacity: 1, y: 0 },
  exit: { opacity: 0, y: -20 },
}

export function PageTransition({ children }: { children: React.ReactNode }) {
  return (
    <motion.div
      variants={variants}
      initial="hidden"
      animate="enter"
      exit="exit"
      transition={{
        duration: 0.4,
        ease: [0, 0.71, 0.2, 1.01],
      }}
    >
      {children}
    </motion.div>
  )
}
```

### 4.2 åˆ—è¡¨åŠ¨ç”»ï¼ˆStaggerï¼‰

```typescript
'use client'

import { motion } from 'framer-motion'

const container = {
  hidden: { opacity: 0 },
  show: {
    opacity: 1,
    transition: {
      staggerChildren: 0.1,
    },
  },
}

const item = {
  hidden: { opacity: 0, y: 20 },
  show: { opacity: 1, y: 0 },
}

export function StaggerList({ children }: { children: React.ReactNode }) {
  return (
    <motion.div
      variants={container}
      initial="hidden"
      animate="show"
    >
      {children}
    </motion.div>
  )
}

export function StaggerItem({ children }: { children: React.ReactNode }) {
  return <motion.div variants={item}>{children}</motion.div>
}
```

### 4.3 æ‚¬åœæ•ˆæœ

```typescript
'use client'

import { motion } from 'framer-motion'

export function HoverCard({ children }: { children: React.ReactNode }) {
  return (
    <motion.div
      whileHover={{
        scale: 1.02,
        transition: { duration: 0.2 }
      }}
      whileTap={{ scale: 0.98 }}
    >
      {children}
    </motion.div>
  )
}
```

### 4.4 åŠ è½½åŠ¨ç”»

```typescript
'use client'

import { motion } from 'framer-motion'

export function LoadingSpinner() {
  return (
    <div className="flex items-center justify-center">
      <motion.div
        className="h-12 w-12 rounded-full border-4 border-primary-500 border-t-transparent"
        animate={{ rotate: 360 }}
        transition={{ duration: 1, repeat: Infinity, ease: 'linear' }}
      />
    </div>
  )
}

export function SkeletonCard() {
  return (
    <motion.div
      className="h-48 rounded-2xl bg-neutral-200"
      animate={{
        opacity: [0.5, 1, 0.5],
      }}
      transition={{
        duration: 1.5,
        repeat: Infinity,
        ease: 'easeInOut',
      }}
    />
  )
}
```

### 4.5 æ¨¡æ€æ¡†åŠ¨ç”»

```typescript
'use client'

import { motion, AnimatePresence } from 'framer-motion'
import { ReactNode } from 'react'

interface ModalProps {
  isOpen: boolean
  onClose: () => void
  children: ReactNode
}

export function Modal({ isOpen, onClose, children }: ModalProps) {
  return (
    <AnimatePresence>
      {isOpen && (
        <>
          {/* èƒŒæ™¯é®ç½© */}
          <motion.div
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            exit={{ opacity: 0 }}
            onClick={onClose}
            className="fixed inset-0 bg-black/50 backdrop-blur-sm z-50"
          />

          {/* æ¨¡æ€æ¡†å†…å®¹ */}
          <div className="fixed inset-0 z-50 flex items-center justify-center p-4">
            <motion.div
              initial={{ opacity: 0, scale: 0.95, y: 20 }}
              animate={{ opacity: 1, scale: 1, y: 0 }}
              exit={{ opacity: 0, scale: 0.95, y: 20 }}
              transition={{
                type: 'spring',
                damping: 25,
                stiffness: 300,
              }}
              className="relative w-full max-w-lg rounded-2xl bg-white p-6 shadow-hard"
            >
              {children}
            </motion.div>
          </div>
        </>
      )}
    </AnimatePresence>
  )
}
```

---

## 5. é¡µé¢æ”¹é€ ä¼˜å…ˆçº§

### Phase 1: æ ¸å¿ƒç»„ä»¶ï¼ˆWeek 1ï¼‰

#### âœ… é«˜ä¼˜å…ˆçº§
1. **Button ç»„ä»¶** - æ‰€æœ‰æŒ‰é’®çš„åŸºç¡€
2. **Card ç»„ä»¶** - å¡ç‰‡å®¹å™¨
3. **Input ç»„ä»¶** - è¡¨å•è¾“å…¥
4. **Badge ç»„ä»¶** - æ ‡ç­¾å¾½ç« 
5. **Loading ç»„ä»¶** - åŠ è½½çŠ¶æ€

#### æ”¹é€ æ¸…å•
- [ ] æ›¿æ¢æ‰€æœ‰ `.button` â†’ `Button` ç»„ä»¶
- [ ] æ›¿æ¢æ‰€æœ‰ `.card` â†’ `Card` ç»„ä»¶
- [ ] æ›¿æ¢æ‰€æœ‰ `.input` â†’ `Input` ç»„ä»¶
- [ ] æ·»åŠ  Framer Motion åŠ¨ç”»

### Phase 2: é¡µé¢å¸ƒå±€ï¼ˆWeek 2ï¼‰

#### ğŸ“„ é¦–é¡µ (`app/page.tsx`)

```typescript
'use client'

import { useState } from 'react'
import { motion } from 'framer-motion'
import { Card } from '@/components/ui/card'
import { Button } from '@/components/ui/button'
import { Input } from '@/components/ui/input'
import { StaggerList, StaggerItem } from '@/components/animations/stagger-children'

export default function HomePage() {
  const [search, setSearch] = useState('')

  return (
    <div className="container mx-auto px-4 py-8">
      {/* é¡µé¢æ ‡é¢˜åŒº */}
      <motion.div
        initial={{ opacity: 0, y: -20 }}
        animate={{ opacity: 1, y: 0 }}
        className="mb-8"
      >
        <h1 className="text-4xl font-bold text-neutral-900 mb-2">
          é¢˜åº“å¹¿åœº
        </h1>
        <p className="text-lg text-neutral-600">
          æµè§ˆå·²å‘å¸ƒé¢˜åº“ï¼Œå¼€å§‹åˆ·é¢˜æˆ–ç»§ç»­å­¦ä¹ è¿›åº¦
        </p>
      </motion.div>

      {/* æœç´¢ç­›é€‰åŒº */}
      <motion.div
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ delay: 0.1 }}
        className="mb-8"
      >
        <Card className="p-6">
          <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
            <Input
              placeholder="æœç´¢é¢˜åº“åç§°..."
              value={search}
              onChange={(e) => setSearch(e.target.value)}
              className="w-full"
            />
            <Button className="w-full">
              æœç´¢
            </Button>
          </div>
        </Card>
      </motion.div>

      {/* é¢˜åº“åˆ—è¡¨ */}
      <StaggerList>
        {quizzes.map((quiz) => (
          <StaggerItem key={quiz.id}>
            <QuizCard quiz={quiz} />
          </StaggerItem>
        ))}
      </StaggerList>
    </div>
  )
}
```

#### ğŸ“„ åˆ·é¢˜é¡µé¢ (`app/quiz/[id]/page.tsx`)

æ”¹é€ é‡ç‚¹ï¼š
- å·¦å³åˆ†æ å¸ƒå±€ä¼˜åŒ–
- ç­”æ¡ˆå±•å¼€åŠ¨ç”»
- é¢˜ç›®åˆ‡æ¢è¿‡æ¸¡æ•ˆæœ

```typescript
'use client'

import { useState } from 'react'
import { motion, AnimatePresence } from 'framer-motion'
import { Card } from '@/components/ui/card'
import { Button } from '@/components/ui/button'

export default function QuizPage({ params }: { params: { id: string } }) {
  const [showAnswer, setShowAnswer] = useState(false)

  return (
    <div className="container mx-auto px-4 py-8">
      <div className="grid grid-cols-1 lg:grid-cols-5 gap-6">
        {/* é¢˜ç›®åŒºåŸŸ */}
        <motion.div
          className="lg:col-span-2"
          initial={{ opacity: 0, x: -20 }}
          animate={{ opacity: 1, x: 0 }}
        >
          <Card className="p-8">
            <h2 className="text-xl font-semibold mb-6">
              1. é©¾é©¶æœºåŠ¨è½¦åœ¨é«˜é€Ÿå…¬è·¯ä¸Šè¡Œé©¶...
            </h2>

            <AnimatePresence mode="wait">
              {!showAnswer ? (
                <motion.div
                  key="question"
                  initial={{ opacity: 0 }}
                  animate={{ opacity: 1 }}
                  exit={{ opacity: 0 }}
                >
                  <div className="space-y-3">
                    {['A. 50ç±³ä»¥ä¸Š', 'B. 100ç±³ä»¥ä¸Š'].map((option) => (
                      <motion.button
                        key={option}
                        whileHover={{ scale: 1.02, x: 4 }}
                        whileTap={{ scale: 0.98 }}
                        className="w-full text-left p-4 rounded-xl border-2 border-neutral-200 hover:border-primary-500 hover:bg-primary-50 transition-all"
                      >
                        {option}
                      </motion.button>
                    ))}
                  </div>

                  <Button
                    className="w-full mt-6"
                    onClick={() => setShowAnswer(true)}
                  >
                    æŸ¥çœ‹ç­”æ¡ˆ
                  </Button>
                </motion.div>
              ) : (
                <motion.div
                  key="answer"
                  initial={{ opacity: 0, scale: 0.95 }}
                  animate={{ opacity: 1, scale: 1 }}
                  exit={{ opacity: 0, scale: 0.95 }}
                  className="bg-green-50 rounded-xl p-6"
                >
                  <p className="text-green-700 font-semibold mb-2">
                    âœ… æ­£ç¡®ç­”æ¡ˆï¼šB. 100ç±³ä»¥ä¸Š
                  </p>
                  <p className="text-neutral-700">
                    æ ¹æ®ã€Šé“è·¯äº¤é€šå®‰å…¨æ³•ã€‹ç¬¬67æ¡è§„å®š...
                  </p>
                </motion.div>
              )}
            </AnimatePresence>
          </Card>
        </motion.div>

        {/* ç­”æ¡ˆè§£æåŒºåŸŸ */}
        <motion.div
          className="lg:col-span-3"
          initial={{ opacity: 0, x: 20 }}
          animate={{ opacity: 1, x: 0 }}
          transition={{ delay: 0.1 }}
        >
          <Card className="p-8">
            <h3 className="text-lg font-semibold mb-4">è¯¦ç»†è§£æ</h3>
            <div className="prose prose-neutral max-w-none">
              <p>è§£æå†…å®¹...</p>
            </div>
          </Card>
        </motion.div>
      </div>
    </div>
  )
}
```

### Phase 3: å¾®äº¤äº’ä¸ç»†èŠ‚ï¼ˆWeek 3ï¼‰

#### âœ¨ å¾®äº¤äº’æ¸…å•
- [ ] æŒ‰é’®ç‚¹å‡»æ³¢çº¹æ•ˆæœ
- [ ] å¡ç‰‡æ‚¬åœæ”¾å¤§
- [ ] è¾“å…¥æ¡†èšç„¦åŠ¨ç”»
- [ ] åˆ—è¡¨é¡¹äº¤é”™å…¥åœº
- [ ] é¡µé¢åˆ‡æ¢è¿‡æ¸¡
- [ ] åŠ è½½éª¨æ¶å±
- [ ] Toast é€šçŸ¥åŠ¨ç”»
- [ ] è¿›åº¦æ¡åŠ¨ç”»

---

## 6. å®æˆ˜ç¤ºä¾‹

### 6.1 å‡çº§åçš„ QuizCard ç»„ä»¶

```typescript
// components/quiz-card.tsx
'use client'

import { motion } from 'framer-motion'
import { Card } from '@/components/ui/card'
import { Badge } from '@/components/ui/badge'
import { Button } from '@/components/ui/button'
import { Clock, BookOpen, TrendingUp } from 'lucide-react'
import { formatRelativeTime } from '@/lib/utils'

interface QuizCardProps {
  quiz: {
    id: string
    title: string
    description?: string
    subject?: string
    question_count?: number
    updated_at?: string
  }
  progress?: {
    currentIndex: number
    completedCount: number
  }
}

export function QuizCard({ quiz, progress }: QuizCardProps) {
  const completion = progress
    ? Math.round((progress.completedCount / (quiz.question_count || 1)) * 100)
    : 0

  return (
    <motion.div
      initial={{ opacity: 0, y: 20 }}
      animate={{ opacity: 1, y: 0 }}
      whileHover={{ y: -4 }}
      transition={{ duration: 0.2 }}
    >
      <Card className="group relative overflow-hidden">
        {/* è¿›åº¦æ¡èƒŒæ™¯ */}
        {progress && (
          <div className="absolute top-0 left-0 h-1 bg-primary-500 transition-all duration-500"
               style={{ width: `${completion}%` }}
          />
        )}

        <div className="space-y-4">
          {/* æ ‡é¢˜ */}
          <div>
            <h3 className="text-lg font-semibold text-neutral-900 group-hover:text-primary-500 transition-colors">
              {quiz.title}
            </h3>
            {quiz.description && (
              <p className="text-sm text-neutral-600 mt-1 line-clamp-2">
                {quiz.description}
              </p>
            )}
          </div>

          {/* æ ‡ç­¾ */}
          <div className="flex flex-wrap gap-2">
            {quiz.subject && (
              <Badge variant="default">{quiz.subject}</Badge>
            )}
            {quiz.question_count && (
              <Badge variant="secondary" className="flex items-center gap-1">
                <BookOpen className="h-3 w-3" />
                {quiz.question_count} é¢˜
              </Badge>
            )}
          </div>

          {/* è¿›åº¦ä¿¡æ¯ */}
          {progress && (
            <div className="space-y-2">
              <div className="flex items-center justify-between text-sm">
                <span className="text-neutral-600">å­¦ä¹ è¿›åº¦</span>
                <span className="font-semibold text-primary-500">{completion}%</span>
              </div>
              <div className="h-2 bg-neutral-100 rounded-full overflow-hidden">
                <motion.div
                  className="h-full bg-primary-500"
                  initial={{ width: 0 }}
                  animate={{ width: `${completion}%` }}
                  transition={{ duration: 0.5, ease: 'easeOut' }}
                />
              </div>
            </div>
          )}

          {/* åº•éƒ¨ä¿¡æ¯ */}
          <div className="flex items-center justify-between pt-2 border-t border-neutral-100">
            <div className="flex items-center gap-1 text-xs text-neutral-500">
              <Clock className="h-3 w-3" />
              {quiz.updated_at && formatRelativeTime(quiz.updated_at)}
            </div>
            <Button size="sm" variant={progress ? 'secondary' : 'primary'}>
              {progress ? 'ç»§ç»­å­¦ä¹ ' : 'å¼€å§‹åˆ·é¢˜'}
            </Button>
          </div>
        </div>
      </Card>
    </motion.div>
  )
}
```

### 6.2 å“åº”å¼å¯¼èˆªæ 

```typescript
// components/layout/header.tsx
'use client'

import { useState } from 'react'
import { motion, AnimatePresence } from 'framer-motion'
import { Button } from '@/components/ui/button'
import { Menu, X } from 'lucide-react'

export function Header() {
  const [isMenuOpen, setIsMenuOpen] = useState(false)

  return (
    <motion.header
      className="sticky top-0 z-50 w-full border-b border-neutral-200 bg-white/80 backdrop-blur-lg"
      initial={{ y: -100 }}
      animate={{ y: 0 }}
      transition={{ duration: 0.3 }}
    >
      <div className="container mx-auto px-4">
        <div className="flex h-16 items-center justify-between">
          {/* Logo */}
          <motion.a
            href="/"
            className="text-xl font-bold text-neutral-900"
            whileHover={{ scale: 1.05 }}
          >
            ç•…ç†é¢˜åº“
          </motion.a>

          {/* æ¡Œé¢å¯¼èˆª */}
          <nav className="hidden md:flex items-center gap-6">
            {['é¢˜åº“å¹¿åœº', 'é”™é¢˜æœ¬', 'å­¦ä¹ ç»Ÿè®¡'].map((item) => (
              <motion.a
                key={item}
                href="#"
                className="text-sm font-medium text-neutral-600 hover:text-neutral-900"
                whileHover={{ y: -2 }}
                transition={{ duration: 0.2 }}
              >
                {item}
              </motion.a>
            ))}
          </nav>

          {/* å³ä¾§æ“ä½œ */}
          <div className="flex items-center gap-4">
            <Button variant="ghost" size="sm">ç™»å½•</Button>
            <Button size="sm">æ³¨å†Œ</Button>

            {/* ç§»åŠ¨ç«¯èœå•æŒ‰é’® */}
            <button
              className="md:hidden"
              onClick={() => setIsMenuOpen(!isMenuOpen)}
            >
              {isMenuOpen ? <X /> : <Menu />}
            </button>
          </div>
        </div>
      </div>

      {/* ç§»åŠ¨ç«¯èœå• */}
      <AnimatePresence>
        {isMenuOpen && (
          <motion.div
            initial={{ opacity: 0, height: 0 }}
            animate={{ opacity: 1, height: 'auto' }}
            exit={{ opacity: 0, height: 0 }}
            className="md:hidden border-t border-neutral-200 overflow-hidden"
          >
            <nav className="container mx-auto px-4 py-4 flex flex-col gap-4">
              {['é¢˜åº“å¹¿åœº', 'é”™é¢˜æœ¬', 'å­¦ä¹ ç»Ÿè®¡'].map((item, index) => (
                <motion.a
                  key={item}
                  href="#"
                  className="text-sm font-medium text-neutral-600"
                  initial={{ opacity: 0, x: -20 }}
                  animate={{ opacity: 1, x: 0 }}
                  transition={{ delay: index * 0.1 }}
                >
                  {item}
                </motion.a>
              ))}
            </nav>
          </motion.div>
        )}
      </AnimatePresence>
    </motion.header>
  )
}
```

---

## 7. æœ€ä½³å®è·µ

### 7.1 æ€§èƒ½ä¼˜åŒ–

```typescript
// âœ… ä½¿ç”¨ useAnimation æ§åˆ¶å¤æ‚åŠ¨ç”»
import { useAnimation } from 'framer-motion'

function MyComponent() {
  const controls = useAnimation()

  useEffect(() => {
    controls.start('visible')
  }, [])

  return (
    <motion.div
      variants={{
        visible: { opacity: 1, scale: 1 },
        hidden: { opacity: 0, scale: 0.8 },
      }}
      initial="hidden"
      animate={controls}
    />
  )
}

// âœ… ä½¿ç”¨ layoutId å®ç°å¹³æ»‘å¸ƒå±€è¿‡æ¸¡
<motion.div layoutId="card" />
```

### 7.2 å¯è®¿é—®æ€§

```typescript
// âœ… æ·»åŠ é”®ç›˜æ”¯æŒ
<motion.button
  whileHover={{ scale: 1.05 }}
  whileFocus={{ scale: 1.05 }}
  onKeyDown={(e) => {
    if (e.key === 'Enter' || e.key === ' ') {
      // å¤„ç†é”®ç›˜äº‹ä»¶
    }
  }}
>

// âœ… å‡å°‘åŠ¨ç”»ï¼ˆå°Šé‡ç”¨æˆ·åå¥½ï¼‰
'use client'

import { useReducedMotion } from 'framer-motion'

function MyComponent() {
  const shouldReduceMotion = useReducedMotion()

  return (
    <motion.div
      animate={{ x: shouldReduceMotion ? 0 : 100 }}
      transition={shouldReduceMotion ? { duration: 0 } : undefined}
    />
  )
}
```

### 7.3 TypeScript ç±»å‹å®‰å…¨

```typescript
// âœ… å®šä¹‰åŠ¨ç”»å˜ä½“ç±»å‹
type Variants = {
  hidden: { opacity: number; y: number }
  visible: { opacity: number; y: number }
}

const variants: Variants = {
  hidden: { opacity: 0, y: 20 },
  visible: { opacity: 1, y: 0 },
}

// âœ… ç»„ä»¶ Props ç±»å‹
interface MotionProps {
  children: React.ReactNode
  delay?: number
}
```

### 7.4 å“åº”å¼è®¾è®¡

```typescript
// âœ… ä½¿ç”¨ Tailwind å“åº”å¼ç±»
<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">

// âœ… æ¡ä»¶åŠ¨ç”»
<motion.div
  animate={{
    x: isMobile ? 0 : 100,
    transition: { duration: isMobile ? 0 : 0.3 }
  }}
>
```

---

## ğŸ“¦ éœ€è¦å®‰è£…çš„åŒ…

```json
{
  "dependencies": {
    "framer-motion": "^11.0.0",
    "lucide-react": "^0.400.0",
    "clsx": "^2.1.0",
    "tailwind-merge": "^2.3.0"
  },
  "devDependencies": {
    "tailwindcss": "^3.4.0",
    "postcss": "^8.4.0",
    "autoprefixer": "^10.4.0"
  }
}
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### Step 1: å®‰è£…ä¾èµ–

```bash
npm install framer-motion lucide-react clsx tailwind-merge
npm install -D tailwindcss postcss autoprefixer
```

### Step 2: åˆå§‹åŒ– Tailwind

```bash
npx tailwindcss init -p
```

### Step 3: å¤åˆ¶é…ç½®æ–‡ä»¶

- å¤åˆ¶ `tailwind.config.ts` åˆ°é¡¹ç›®æ ¹ç›®å½•
- æ›¿æ¢ `app/globals.css` å†…å®¹

### Step 4: åˆ›å»ºåŸºç¡€ç»„ä»¶

åˆ›å»º `components/ui/` ç›®å½•ï¼Œæ·»åŠ ï¼š
- `button.tsx`
- `card.tsx`
- `input.tsx`
- `badge.tsx`

### Step 5: é€ä¸ªæ”¹é€ é¡µé¢

æŒ‰ç…§ä¼˜å…ˆçº§é¡ºåºæ”¹é€ ï¼š
1. `components/quiz-card.tsx`
2. `app/page.tsx`
3. `app/quiz/[id]/page.tsx`
4. å…¶ä»–é¡µé¢

---

## ğŸ“š å‚è€ƒèµ„æº

- [Tailwind CSS æ–‡æ¡£](https://tailwindcss.com/docs)
- [Framer Motion æ–‡æ¡£](https://www.framer.com/motion/)
- [Lucide Icons](https://lucide.dev/)
- [Radix UI](https://www.radix-ui.com/)

---

**æ”¹é€ å®Œæˆåï¼Œä½ å°†æ‹¥æœ‰ä¸€ä¸ªç°ä»£ã€æµç•…ã€ä»¤äººæƒŠè‰³çš„é¢˜åº“å¹³å°ï¼** ğŸ‰
