# ================================
# Supabase 配置（必需）
# ================================
# 获取方式：
# 1. 访问 https://supabase.com 并创建项目
# 2. 进入项目 → Settings → API
# 3. 复制 Project URL 和 service_role/secret key（两种格式都可）
SUPABASE_URL=https://xxxxx.supabase.co
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9... 或 sb_secret_xxx...

# ================================
# JWT 密钥（必需）
# ================================
# 用于生成用户登录 Token
# 建议使用随机字符串：openssl rand -base64 32
JWT_SECRET=changli-dev-secret

# ================================
# Redis 配置（必需）
# ================================
# 选项1 - 本地开发：redis://localhost:6379
# 选项2 - Upstash/Redis Cloud：rediss://username:password@host:port
REDIS_URL=redis://localhost:6379

# ================================
# Gemini API（可选但推荐）
# ================================
# 获取方式：https://aistudio.google.com/app/apikey
# 不填写会使用 Mock 模式
GEMINI_API_KEY=

# ================================
# 邮件验证码（登录/注册）
# ================================
# 推荐 Resend: https://resend.com
# 不配置将无法发送验证码（接口返回 500）
# 仅当你明确需要本地兜底时，才开启 ALLOW_DEV_CODE_FALLBACK=true
RESEND_API_KEY=
EMAIL_FROM=Changli OJ <noreply@example.com>
ALLOW_DEV_CODE_FALLBACK=false

# ================================
# 管理员邮箱（可选）
# ================================
# 配置后只有这些邮箱可以访问管理面板
# 多个邮箱用英文逗号分隔
# 不配置则所有已登录用户都可以访问
ADMIN_EMAILS=admin@example.com

# ================================
# 可选配置
# ================================
# AI 每日使用限制（默认20次/天）
AI_DAILY_LIMIT=20

# 文件上传大小限制（默认10MB = 10485760字节）
MAX_FILE_SIZE=10485760
